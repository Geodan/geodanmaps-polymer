<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-header-panel/paper-header-panel.html">
<link rel="import" href="../../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-dialog-scrollable/paper-dialog-scrollable.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../bower_components/paper-menu-button/paper-menu-button.html">
<link rel="import" href="../../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../../bower_components/iron-icons/maps-icons.html">

<link rel="import" href="../../elements/gm-routing.html">
<link rel="import" href="../../elements/gm-cas.html">

<link rel="import" href="../../elements/gm-cow-core.html">
<link rel="import" href="../../elements/gm-cow-status.html">
<link rel="import" href="../../elements/gm-icm-natuurbrand.html">

<link rel="import" href="./eagle-map.html">

<dom-module id="demo-eagle">
<style>
	.toolbar-tools > ::content .title {
		  @apply(--paper-font-title);
		  @apply(--layout-flex);
	}
    gm-cas {
    	position: absolute;
    	right: 10px;
    	bottom: 10px;
    	z-index: 100;
    }
    eagle-map {
    	height: 100%;
    }
    
    #cloudDialog {
    	position: fixed;
    	right: 6px;
    	top: 64px;
    	bottom: 10px;
    }
    
    #layerDialog {
    	position: fixed;
    	right: 6px;
    	top: 64px;
    	bottom: 10px;
    }
    
    #plugin-menu .paper-menu{
    	position: fixed:
    	right: 6px;
    	background: red;
    }
	
</style>
<template>
	<!--outside layout-->
	<gm-cas></gm-cas>
	<gm-routing></gm-routing>

	<!--starting dialogs-->
	<paper-dialog id="cloudDialog">
		<h2>Geodan maps</h2>
		<paper-dialog-scrollable>
			Cloud content....
		</paper-dialog-scrollable>
	</paper-dialog>
	<paper-dialog id="layerDialog">
		<h2>Layers</h2>
		<paper-dialog-scrollable>
			
		</paper-dialog-scrollable>
	</paper-dialog>
	<paper-dialog id="NBPlugin" autoCloseDisabled>
		<h2>Natuurbrandmodel</h2>
		<paper-dialog-scrollable>
  			<gm-icm-natuurbrand map="{{map}}"></icm-plugin-natuurbrand>
  		</paper-dialog-scrollable>
  		<div class="buttons">
  			<paper-button dialog-dismiss>Sluit</paper-button>
  		</div>
  	</paper-dialog>
	
	
	<!--starting main layout-->
	<paper-header-panel>
		<paper-toolbar>
			<div class='title'>Eagle Research</div>
			<!--<gm-mappu-geosearch id="geosearch" map="{{map}}"></gm-mappu-geosearch>-->
			<paper-icon-button icon="cloud" on-click="toggleCloud"></paper-icon-button>
			<paper-icon-button icon="maps:layers" on-click="toggleLayerDialog"></paper-icon-button>
			<paper-icon-button icon="cloud" on-click="toggleNatuurbrand"></paper-icon-button>
			<paper-menu-button id="plugin-menu">
			  <paper-icon-button icon="extension" class="dropdown-trigger"></paper-icon-button>
			  <paper-menu class="dropdown-content">
			  	<paper-item>Natuurbrand</paper-item>
			    <paper-item>P2000</paper-item>
				<paper-item>NS treinen</paper-item>
				<paper-item>COW</paper-item>
				<paper-item>Waterstanden</paper-item>
			  </paper-menu>
			</paper-menu-button>
			<paper-icon-button icon="help"></paper-icon-button>
		</paper-toolbar>
		<div>
			<eagle-map id="eaglemap" map="{{map}}"></eagle-map>
		</div>
		
	</paper-header-panel>
</template>
</dom-module>

<script>
Polymer({
    is: 'demo-eagle',
    properties: {
    	map: {
    		type: Object,
    		notify:true
    	}
    },
    ready: function(){
    },
    toggleCloud: function(){
    	this.$.cloudDialog.toggle();
    },
    toggleLayerDialog: function(){
    	this.$.eaglemap.toggleLayers();
    },
    toggleNatuurbrand: function(){
    	this.$.NBPlugin.toggle();
    }
});
</script>